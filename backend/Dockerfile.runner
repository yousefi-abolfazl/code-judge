FROM golang:1.24

WORKDIR /app

COPY go.mod go.sum ./
RUN go mod download

COPY . .

# Build the runner binary
RUN go build -o runner ./cmd/runner

# Create directory for temporary files
RUN mkdir -p /tmp/runner

EXPOSE 8080

# Set the default command
CMD ["./runner"] 